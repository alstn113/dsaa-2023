# 괄호 검사기

학번: 201911430
이름: 김민수
학과: 컴퓨터공학과 컴퓨터공학전공

## 프로젝트 소개

입력한 수식에 대해서 괄호가 올바르게 사용되었는지 검사하는 프로그램입니다.

## 실행 가이드

1. 프로그램을 실행하거나 테스트를 실행할 수 있습니다.

```bash
python src/main.py
#or
python src/expression_check_test.py
```

2. 검사하고 싶은 수식을 입력합니다.

```bash
# 입력 예시
수식 입력: ([[])
```

빈 문자열을 입력하면 "Empty expression provided." 메세지가 출력되고 종료됩니다.

3. 결과를 확인합니다.

```bash
# 성공 예시
입력 수식: ([])

입력값: (
stack 상태 : (

입력값: [
stack 상태 : ( -> [

입력값: ]
stack 상태 : (

입력값: )
stack 상태 : EMPTY

Valid expression.
```

```
# 실패 예시
입력 수식: (3 + 5 _ {4 - 2)

입력값: (
stack 상태 : (

입력값: {
stack 상태 : ( -> {

입력값: )
stack 상태 : (

Invalid expression.
```

## 코드 설명

이 코드는 스택 (Stack) 자료 구조를 활용하여 괄호 표현식의 유효성을 검사하는 ExpressionCheckService 클래스를 구현한 것입니다. 여기서 주요 구성 요소는 다음과 같습니다:

1. **Stack 클래스**:

   - `__init__(self)`: 스택을 초기화하고, 초기에는 `top`을 None으로, `size`를 0으로 설정합니다.
   - `push(self, data)`: 스택에 요소를 추가하는 메서드로, 새 노드를 생성하여 스택의 맨 위에 쌓습니다.
   - `pop(self)`: 스택에서 맨 위의 요소를 제거하고 반환하는 메서드입니다.
   - `peek(self)`: 스택의 맨 위 요소를 반환하지만 제거하지는 않습니다.
   - `display(self)`: 스택의 상태를 문자열로 반환하는 메서드로, 현재 스택 내용과 상태를 표시합니다.
   - `is_empty(self)`: 스택이 비어 있는지 여부를 반환합니다.

2. **ExpressionCheckService 클래스**:
   - `checkIsValidExpressionWithHistory(self, expression)`: 주어진 표현식을 받아서 괄호의 유효성을 검사하는 메서드입니다. 이 메서드는 스택을 사용하여 괄호의 짝이 맞는지 확인하고, 검사 과정을 history 리스트에 저장합니다. 검사 결과와 history를 반환합니다.

괄호 유효성 검사는 다음과 같이 이루어집니다:

- `bracket_pairs` 딕셔너리를 사용하여 열린 괄호와 닫힌 괄호의 쌍을 정의합니다.
- 주어진 표현식 문자열을 순회하면서 괄호 문자인 경우:
  - 열린 괄호인 경우: 스택에 푸시합니다.
  - 닫힌 괄호인 경우: 스택에서 팝하고, 이 때 팝한 괄호와 현재 괄호가 짝이 맞는지 확인합니다. 만약 짝이 맞지 않으면 `is_valid`를 False로 설정합니다.
- 검사를 진행하면서 스택의 상태를 history 리스트에 저장합니다.
- 검사가 완료된 후, 스택이 비어 있고 `is_valid`가 True인 경우 유효한 괄호 표현식으로 판단합니다.

검사 결과인 `is_valid`는 괄호 표현식의 유효성 여부를 나타내며, `history` 리스트는 검사 과정을 단계별로 확인할 수 있게 해줍니다.
